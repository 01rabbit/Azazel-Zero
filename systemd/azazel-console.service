[Unit]
Description=Azazel-Zero Console (tmux session)
After=network-online.target
Wants=network-online.target

[Service]
Type=forking
User=azazel
Environment=TERM=xterm-256color
Environment=LANG=en_US.UTF-8
Environment=LC_CTYPE=en_US.UTF-8
# tmuxセッションの起点はラッパーに統一
ExecStart=/usr/bin/tmux new-session -d -s azazel '/usr/local/bin/azazel_console.sh'
ExecStop=/usr/bin/tmux kill-session -t azazel
Restart=on-failure
KillMode=process

[Install]
WantedBy=multi-user.target