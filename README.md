# Azazel-Zero

## コンセプト
**Azazel-Zero** は、Raspberry Pi Zero 2 W を基盤とした  
「身代わり防壁（Substitute Firewall）」の実装試みである。  

信用できないネットワーク（例：公共Wi-Fi）に接続する際、  
端末本体を直接晒さず **物理的デコイ** を介在させることで、  
攻撃を一手に引き受け、遅滞行動によって利用者を守る。  

Azazel-Pi が論理的な遅滞・誘導を行う「ゲートウェイ防壁」であったのに対し、  
Azazel-Zero は「持ち歩ける物理盾」としての性格を強めている。

---

## 設計思想
- **携帯性**：胸ポケットに収まるサイズと重量  
- **不可避性**：端末と外部ネットの間に強制的に介在  
- **単純操作**：USBを挿すだけで防壁が成立  
- **遅滞行動**：攻撃者に時間を浪費させる（Azazel Systemの共通思想）  

---

## 実装構成

### 基盤
- **Raspberry Pi Zero 2 W**

### ネットワーク
- **USB OTG Gadget モード**
  - 電力供給＋仮想ネットワークを1本のUSBケーブルで実現
  - ノートPCからの給電で即稼働可能

### 防御機能（軽量版）
- **iptables/nftables** による遮断・遅延制御  
- **tc (Traffic Control)** による通信遅延・パケット揺らぎ挿入  
- **カスタムPythonスクリプト**による動的制御と通知  

### ステータス表示
- **電子ペーパー (E-Ink)**  
  - 携帯性優先: 2.13インチ モノクロ (250×122)  
  - 展示映え特化: 2.13インチ 3色 (赤黒白)  
  - UIは脅威レベル・アクション・RTT・Queue・キャプティブ検知などを簡潔表示  

---

## AI的要素の可能性

### 制約
- Zero 2 WはCPU・RAMが限定的 → 大規模AIは不可  
- GPUによる加速も期待できない  

### 現実的な導入案
- **軽量機械学習モデル**
  - scikit-learnベースの異常検知（Isolation Forest, one-class SVM, k-meansなど）  
  - 小規模サンプルを扱うなら実用可能  
- **TinyML (TensorFlow Lite)**  
  - 事前学習済みの小型モデルをZeroで推論  
  - 「通常通信 vs 攻撃通信」の分類程度は実装できる  
- **ハイブリッド方式**
  - iptablesで基本防御  
  - MLで「怪しい通信」を補助的に表示  

### 位置付け
Azazel-Zeroは「携帯防壁」であり、AIは必須ではない。  
しかし **軽量機械学習を組み合わせることで “学習する盾” として発展可能** である。  

---

## 構築手順（概要）

1. **Raspberry Pi OS Lite (64bit)** を導入  
2. **USB Gadget モード設定**  
   - `/boot/config.txt` に `dtoverlay=dwc2`  
   - `/boot/cmdline.txt` に `modules-load=dwc2,g_ether`  
3. **電子ペーパー制御ライブラリ**を導入（例: Waveshare Pythonライブラリ）  
4. **UIスクリプト**を作成し、脅威レベルや遅滞状況を表示  
5. **systemdサービス化**して起動時に防壁＋UIが稼働  
